System.register("chunks:///_virtual/game-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,a,i,r,S,T;return{setters:[function(t){e=t.defineProperty,n=t.inheritsLoose,a=t.assertThisInitialized,i=t.createClass},function(t){r=t.cclegacy,S=t._decorator,T=t.Component}],execute:function(){var o,s,c;t("GAME_STATE",void 0),r._RF.push({},"52d6f49x69OqYb0hHaqk4Om","game-manager",void 0);var u,E=S.ccclass;S.property;!function(t){t[t.STATE_LOADING=0]="STATE_LOADING",t[t.STATE_ACTION_PHASE=1]="STATE_ACTION_PHASE",t[t.STATE_SELECT_LEVEL=2]="STATE_SELECT_LEVEL",t[t.STATE_GAME_RESULT=3]="STATE_GAME_RESULT",t[t.STATE_IGM=4]="STATE_IGM",t[t.STATE_MM=5]="STATE_MM"}(u||(u=t("GAME_STATE",{})));t("default",E("GameManager")((c=s=function(t){function r(){for(var n,i=arguments.length,r=new Array(i),S=0;S<i;S++)r[S]=arguments[S];return n=t.call.apply(t,[this].concat(r))||this,e(a(n),"currentState",u.STATE_LOADING),e(a(n),"preState",u.STATE_LOADING),e(a(n),"timeInGame",0),e(a(n),"timeTotal",0),e(a(n),"nodeGameState",[]),n}n(r,t);var S=r.prototype;return S.onLoad=function(){r._instance=this.node.getComponent("GameManager"),this.nodeGameState=new Array(6),this.nodeGameState[u.STATE_LOADING]=this.node.getChildByName("loading"),this.nodeGameState[u.STATE_ACTION_PHASE]=this.node.getChildByName("ap"),this.nodeGameState[u.STATE_GAME_RESULT]=this.node.getChildByName("game-result"),this.nodeGameState[u.STATE_IGM]=this.node.getChildByName("igm"),this.nodeGameState[u.STATE_MM]=this.node.getChildByName("mm"),this.nodeGameState[u.STATE_SELECT_LEVEL]=this.node.getChildByName("select-level")},S.start=function(){this.ResetState(),this.timeInGame=0},S.update=function(t){this.currentState==u.STATE_ACTION_PHASE&&(this.timeInGame+=t),this.timeTotal+=t},S.ResetState=function(){this.preState=u.STATE_LOADING,this.currentState=u.STATE_LOADING,this.nodeGameState.forEach((function(t){t&&(t.active=!1)})),this.nodeGameState[this.currentState].active=!0},S.SwitchState=function(t){this.preState=this.currentState,this.currentState=t,this.nodeGameState.forEach((function(t){t&&(t.active=!1)})),this.nodeGameState[this.currentState].active=!0},S.GetCurrentState=function(){return this.currentState},S.GetPreState=function(){return this.preState},S.GetTimeInAP=function(){return this.timeInGame},S.GetCurrentTime=function(){return this.timeTotal},S.GetAPNode=function(){return this.nodeGameState[u.STATE_ACTION_PHASE]},S.GetResultNode=function(){return this.nodeGameState[u.STATE_GAME_RESULT]},S.ResetTimeInGame=function(){this.timeInGame=0},S.PauseGame=function(){this.SwitchState(u.STATE_IGM)},S.ResumeGame=function(){this.SwitchState(u.STATE_ACTION_PHASE)},i(r,null,[{key:"instance",get:function(){return r._instance}}]),r}(T),e(s,"_instance",null),o=c))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/shape.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-manager.ts"],(function(t){"use strict";var e,o,i,s,n,a,h,r;return{setters:[function(t){e=t.inheritsLoose,o=t.defineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,n=t._decorator,a=t.Vec3,h=t.Component},function(t){r=t.default}],execute:function(){var p;t("SHAPE_MOVE_TYPE",void 0),s._RF.push({},"594eeHlXgVJNpJHeWcac6K9","shape",void 0);var c,u=n.ccclass;n.property;!function(t){t[t.NONE=0]="NONE",t[t.MOVE_LEFT=1]="MOVE_LEFT",t[t.MOVE_RIGHT=2]="MOVE_RIGHT",t[t.MOVE_DOWN=3]="MOVE_DOWN"}(c||(c=t("SHAPE_MOVE_TYPE",{})));t("default",u("Shape")(p=function(t){function s(){for(var e,s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(i(e),"rotateStatus",0),o(i(e),"shapInfo",null),o(i(e),"targetMoveX",0),o(i(e),"minMoveX",30),o(i(e),"maxMoveX",40),o(i(e),"currentMoveType",c.NONE),o(i(e),"isFinishMoving",!1),o(i(e),"enableFastMoveDown",!1),e}e(s,t);var n=s.prototype;return n.start=function(){},n.update=function(t){if(0==this.isFinishMoving){var e=new a(0,-1*this.shapInfo.fallSpeed,0);this.enableFastMoveDown&&(e.y=-1*this.shapInfo.moveSpeed),this.currentMoveType==c.MOVE_LEFT?(e.x=-1*this.shapInfo.moveSpeed,e.x+this.node.position.x<=this.targetMoveX&&(e.x=this.targetMoveX-this.node.position.x,this.currentMoveType=c.NONE)):this.currentMoveType==c.MOVE_RIGHT&&(e.x=1*this.shapInfo.moveSpeed,e.x+this.node.position.x>=this.targetMoveX&&(e.x=this.targetMoveX-this.node.position.x,this.currentMoveType=c.NONE)),e.add(this.node.position),e.y<=this.shapInfo.targetPoint.y&&(e.y=this.shapInfo.targetPoint.y,this.isFinishMoving=!0,this.CheckCorrectShape()),this.node.setPosition(e)}},n.MoveShape=function(t){if(t==c.MOVE_DOWN)return this.enableFastMoveDown=!0,void console.log("move down");if(this.currentMoveType==c.NONE){var e=Math.abs(this.shapInfo.targetPoint.x-this.node.position.x);t==c.MOVE_LEFT?(console.log("move left"),(this.node.position.x<=this.shapInfo.targetPoint.x||e>this.maxMoveX)&&(e=this.minMoveX),this.targetMoveX=this.node.position.x-e):t==c.MOVE_RIGHT&&(console.log("move right"),(this.node.position.x>=this.shapInfo.targetPoint.x||e>this.maxMoveX)&&(e=this.minMoveX),this.targetMoveX=this.node.position.x+e),this.currentMoveType=t}},n.DeleteShape=function(){this.destroy()},n.SetRotateStatus=function(t){this.rotateStatus=(this.rotateStatus+t)%4},n.UpdateRotateStatus=function(){this.rotateStatus=(this.rotateStatus+1)%4},n.InitShape=function(t,e,o){this.shapInfo=t,this.isFinishMoving=!1,this.currentMoveType=c.NONE,this.enableFastMoveDown=!1,this.minMoveX=e,this.maxMoveX=o,this.rotateStatus=t.startPoint.r},n.IsFinishMove=function(){return this.isFinishMoving},n.CheckCorrectShape=function(){this.shapInfo.targetPoint.r>=0&&(console.log("rotate Status: "+this.rotateStatus+" tr: "+this.shapInfo.targetPoint.r+" x: "+this.node.position.x+" tx: "+this.shapInfo.targetPoint.x),this.node.position.x==this.shapInfo.targetPoint.x&&this.rotateStatus==this.shapInfo.targetPoint.r&&r.instance.MatchedShape())},s}(h))||p);s._RF.pop()}}}));

System.register("chunks:///_virtual/shape-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game-manager.ts","./resource-manager.ts","./shape-level.ts","./rotate-controller.ts","./shape.ts"],(function(e){"use strict";var t,n,i,a,s,o,r,h,c,l,u,p,d,S,f,m,v,L;return{setters:[function(e){t=e.defineProperty,n=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.assertThisInitialized,s=e.initializerDefineProperty,o=e.createClass},function(e){r=e.cclegacy,h=e._decorator,c=e.Vec2,l=e.Node,u=e.Vec3,p=e.Component},function(e){d=e.default,S=e.GAME_STATE},function(e){f=e.default},function(e){m=e.default},function(e){v=e.ROTATE_TYPE},function(e){L=e.SHAPE_MOVE_TYPE}],execute:function(){var N,g,b,I,C,T,P,M,A,E,x;r._RF.push({},"5fb2b0YCupP/ZaU/LPOf1MN","shape-manager",void 0);var R=h.ccclass,_=h.property;e("default",(N=R("ShapeManager"),g=_(cc.Node),b=_(cc.Node),I=_(cc.Prefab),N((x=E=function(e){function n(){for(var n,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return n=e.call.apply(e,[this].concat(o))||this,t(a(n),"currentLevelindex",0),t(a(n),"currentLevelInfo",null),t(a(n),"isLevelLoading",!1),s(a(n),"timePlayNode",P,a(n)),s(a(n),"backgroudNode",M,a(n)),s(a(n),"prefabShape",A,a(n)),t(a(n),"timeLevelRemaining",0),t(a(n),"timeLevelLabel",null),t(a(n),"inputController",null),t(a(n),"minMove",new c(120,120)),t(a(n),"shapesNode",null),t(a(n),"currentShapeNode",null),t(a(n),"shapeHintNode",null),t(a(n),"currentIndexShape",0),t(a(n),"numberMatchedShape",-1),t(a(n),"textResult","FAILED"),n}i(n,e);var r=n.prototype;return r.onLoad=function(){n._instance=this.node.getComponent("ShapeManager")},r.start=function(){this.timePlayNode&&(this.timeLevelLabel=this.timePlayNode.getComponent("cc.Label")),this.inputController=this.node.parent.getComponent("InputController"),this.currentLevelindex>=m.instance.LEVELDATA.length&&(this.currentLevelindex=0),this.shapesNode=d.instance.GetAPNode().getChildByName("shapes"),null==this.shapesNode&&(this.shapesNode=new l("shapes"),d.instance.GetAPNode().addChild(this.shapesNode)),f.instance.LoadPrefabsFolder("Prefabs/ShapeTheCurves/Effects",!1),this.LoadLevel(this.currentLevelindex)},r.update=function(e){switch(d.instance.GetCurrentState()){case S.STATE_LOADING:if(this.isLevelLoading&&f.instance.isLoadFinished){if(this.isLevelLoading=!1,this.backgroudNode){var t=this.backgroudNode.getComponentInChildren("cc.Sprite");t&&(t._spriteFrame=f.instance.GetSprites("bg"))}d.instance.SwitchState(S.STATE_ACTION_PHASE),this.shapeHintNode=cc.instantiate(f.instance.GetPrefabs("shape-hint")),this.shapesNode.addChild(this.shapeHintNode),this.shapeHintNode.setPosition(-9999,-9999,0)}break;case S.STATE_ACTION_PHASE:this.timeLevelLabel&&(this.timeLevelLabel.string=""+Math.round(this.timeLevelRemaining)),this.timeLevelRemaining=this.currentLevelInfo.timeFinish-d.instance.GetTimeInAP(),this.UpdateTouch(),this.UpdateGenerateShap();break;case S.STATE_GAME_RESULT:var n,i=null===(n=d.instance.GetResultNode().getChildByName("txt-result"))||void 0===n?void 0:n.getComponent("cc.RichText");if(i){var a=d.instance.GetCurrentTime();a-Math.round(a)>.25?i.string="<color=#00ff00>"+this.textResult+"</color>":i.string="<color=#ff0000>"+this.textResult+"</color>"}}},r.LoadLevel=function(e){var t=this;d.instance.SwitchState(S.STATE_LOADING),this.shapesNode.removeAllChildren(),this.isLevelLoading=!0,this.currentShapeNode=null,this.currentIndexShape=0,this.textResult="FAILED",this.currentLevelInfo=m.instance.LEVELDATA[this.currentLevelindex],f.instance.LoadSpritFolder("Textures/ShapeTheCurves/levels/"+this.currentLevelInfo.levelName,!0),this.timeLevelRemaining=this.currentLevelInfo.timeFinish,this.numberMatchedShape=0,this.currentLevelInfo.shapeInfo.forEach((function(e){e.targetPoint.r>=0&&t.numberMatchedShape++}))},r.UpdateTouch=function(){var e=this.inputController.GetMoveVector();(Math.abs(e.x)>this.minMove.x||Math.abs(e.y)>this.minMove.y)&&(Math.abs(e.x)>Math.abs(e.y)?e.x>0?this.MoveShape(L.MOVE_RIGHT):this.MoveShape(L.MOVE_LEFT):e.y<0&&this.MoveShape(L.MOVE_DOWN),this.inputController.SetTouchStartToMove())},r.MoveShape=function(e){this.currentShapeNode&&this.currentShapeNode.getComponent("Shape").MoveShape(e)},r.UpdateGenerateShap=function(){var e;if(this.currentIndexShape>this.currentLevelInfo.shapeInfo.length||d.instance.GetTimeInAP()>this.currentLevelInfo.timeFinish)d.instance.SwitchState(S.STATE_GAME_RESULT),(null===(e=d.instance.GetResultNode().getChildByName("background"))||void 0===e?void 0:e.getComponentInChildren("cc.Sprite"))._spriteFrame=f.instance.GetSprites("bg"),this.numberMatchedShape<=0&&(this.textResult="Congratulation!");else if(null==this.currentShapeNode){if(this.currentIndexShape>=this.currentLevelInfo.shapeInfo.length)return void this.currentIndexShape++;var t=this.currentLevelInfo.shapeInfo[this.currentIndexShape],n=cc.instantiate(this.prefabShape),i=n.getComponent("Shape"),a=n.getComponent("RotateController");n.getComponentInChildren("cc.Sprite")._spriteFrame=f.instance.GetSprites(t.spriteName),this.shapesNode.addChild(n),n.setPosition(t.startPoint.x,t.startPoint.y,0),n.setScale(new u(t.scale,t.scale,t.scale)),a.SetTimeRotate(.2);var s=t.startPoint.r>=0?t.startPoint.r:Math.round(10*Math.random())%4;a.RotateToAngle(90*s,new u(0,0,-1)),i.SetRotateStatus(s),i.InitShape(t,this.currentLevelInfo.minMoveX,this.currentLevelInfo.maxMoveX),this.currentIndexShape++,this.currentShapeNode=n,this.shapeHintNode.setPosition(t.hintPoint.x,t.hintPoint.y,0),console.log("add shape "+this.currentIndexShape+" rotate: "+s)}else{this.currentShapeNode.getComponent("Shape").IsFinishMove()&&(this.currentShapeNode=null)}},r.RotateShape=function(){if(this.currentShapeNode){var e=this.currentShapeNode.getComponent("RotateController");e&&(e.DoRotate(v.F),this.currentShapeNode.getComponent("Shape").UpdateRotateStatus())}},r.DeleteShape=function(){if(this.currentShapeNode){var e=f.instance.GetPrefabs("shape-explosion");if(e){var t=cc.instantiate(e);this.shapesNode.addChild(t),t.setPosition(this.currentShapeNode.position)}this.currentShapeNode.removeFromParent(),this.currentShapeNode.getComponent("Shape").DeleteShape(),this.currentShapeNode=null}},r.RestartLevel=function(){var e=this;this.shapesNode.removeAllChildren(),this.currentShapeNode=null,this.currentIndexShape=0,this.textResult="FAILED",d.instance.ResetTimeInGame(),d.instance.SwitchState(S.STATE_ACTION_PHASE),this.numberMatchedShape=0,this.currentLevelInfo.shapeInfo.forEach((function(t){t.targetPoint.r>=0&&e.numberMatchedShape++})),this.shapeHintNode=cc.instantiate(f.instance.GetPrefabs("shape-hint")),this.shapesNode.addChild(this.shapeHintNode),this.shapeHintNode.setPosition(-9999,-9999,0)},r.MatchedShape=function(){console.log("this shape is matched"),this.numberMatchedShape--},r.PauseGame=function(){d.instance.PauseGame()},r.ResumeGame=function(){d.instance.ResumeGame()},o(n,null,[{key:"instance",get:function(){return n._instance}}]),n}(p),t(E,"_instance",null),P=n((T=x).prototype,"timePlayNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(T.prototype,"backgroudNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(T.prototype,"prefabShape",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=T))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/destroys-effect.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.Component}],execute:function(){var r;o._RF.push({},"83bbaRAPBpEVrvoEwq1t/Na","destroys-effect",void 0);var c=n.ccclass;n.property,t("DestroysEffect",c("DestroysEffect")(r=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.start=function(){var t=this;this.node.getComponent("cc.Animation").on("finished",(function(){console.log("---- animation effect destroyed "),t.node.destroy()}))},o}(s))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/input-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./game-manager.ts"],(function(t){"use strict";var o,i,e,n,h,s,c,u,r;return{setters:[function(t){o=t.inheritsLoose,i=t.defineProperty,e=t.assertThisInitialized},function(t){n=t.cclegacy,h=t._decorator,s=t.Vec2,c=t.Vec3,u=t.Component},function(t){r=t.default}],execute:function(){var a;n._RF.push({},"dfe8fhSsftEu5rjOUoMW3fv","input-controller",void 0);var T=h.ccclass;h.property,t("InputController",T("InputController")(a=function(t){function n(){for(var o,n=arguments.length,h=new Array(n),u=0;u<n;u++)h[u]=arguments[u];return o=t.call.apply(t,[this].concat(h))||this,i(e(o),"posTouchStart",new s),i(e(o),"posTouchMove",new s),i(e(o),"posTouchEnd",new s),i(e(o),"isTouchMove",!1),i(e(o),"isTouchEnd",!0),i(e(o),"isTouchStart",!1),i(e(o),"timeDoubleTap",.35),i(e(o),"touchSize",new cc.Size),i(e(o),"canvasSize",new cc.Size),i(e(o),"canvasAnchor",new s),i(e(o),"nodePosition",new c),i(e(o),"timePreTouchStart",0),i(e(o),"timeCurrentTouchStart",0),o}o(n,t);var h=n.prototype;return h.start=function(){var t=cc.find("Canvas");this.canvasSize=t.getContentSize(),this.canvasAnchor=t.getAnchorPoint(),this.touchSize=this.node.getContentSize(),this.touchSize.width*=this.node.getScale().x,this.touchSize.height*=this.node.getScale().y,"Canvas"==this.node.name?this.nodePosition=new c(0,0,0):this.nodePosition=this.node.getPosition(),console.log("node size: "+this.touchSize+" canvas size: "+this.canvasSize),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},h.update=function(t){},h.SetTouchSize=function(t){this.touchSize=t},h.onTouchStart=function(t){var o=this.GetRealPosTouch(t.getLocation());this.IsOutTouchArea(o)||(this.timePreTouchStart=this.timeCurrentTouchStart,this.timeCurrentTouchStart=r.instance.GetCurrentTime(),this.isTouchStart=!0,this.isTouchEnd=!1,this.posTouchStart=o)},h.onTouchEnd=function(t){var o=this.GetRealPosTouch(t.getLocation());this.isTouchMove=!1,this.isTouchEnd=!0,this.isTouchStart=!1,this.IsOutTouchArea(o)||(this.posTouchEnd=o)},h.onTouchMove=function(t){var o=this.GetRealPosTouch(t.getLocation());this.IsOutTouchArea(o)?(this.isTouchEnd=!0,this.isTouchMove=!1):(this.posTouchMove=o,this.isTouchEnd=!1,this.isTouchMove=!0)},h.IsTouchEnd=function(){return this.isTouchEnd},h.IsTouchMove=function(){return this.isTouchMove},h.GetMoveVector=function(){var t=new s(0,0);return(this.isTouchMove||this.isTouchEnd)&&(t.x=this.posTouchMove.x-this.posTouchStart.x,t.y=this.posTouchMove.y-this.posTouchStart.y),t},h.IsOutTouchArea=function(t){return t.x<this.nodePosition.x-this.touchSize.width/2||t.x>this.nodePosition.x+this.touchSize.width/2||(t.y<this.nodePosition.y-this.touchSize.height/2||t.y>this.nodePosition.y+this.touchSize.height/2)},h.GetRealPosTouch=function(t){var o=new s(t.x,t.y);return.5==this.canvasAnchor.x&&(o.x-=this.canvasSize.width/2),.5==this.canvasAnchor.y&&(o.y-=this.canvasSize.height/2),o},h.IsDoubleTouch=function(){return this.timeCurrentTouchStart!=this.timePreTouchStart&&this.timeCurrentTouchStart-this.timePreTouchStart<this.timeDoubleTap},h.GetPosTouchStart=function(){return this.posTouchStart},h.GetPosTouchMove=function(){return this.posTouchMove},h.GetPosTouchEnd=function(){return this.posTouchEnd},h.SetTouchStartToMove=function(){this.posTouchStart=this.posTouchMove},h.SetNodePosition=function(t){this.nodePosition=t},n}(u))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/rotate-controller.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,a,s,i,o,r,n,c;return{setters:[function(t){e=t.inheritsLoose,a=t.defineProperty,s=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,r=t.Vec3,n=t.Quat,c=t.Component}],execute:function(){var l;t("ROTATE_TYPE",void 0),i._RF.push({},"e3177sKDvRKe55pheeHXC3q","rotate-controller",void 0);var u,h=o.ccclass;o.property;!function(t){t.NONE="",t.x="x",t.xa="x'",t.y="y",t.ya="y'",t.U="U",t.Ua="U'",t.u="u",t.ua="u'",t.D="D",t.Da="D'",t.d="d",t.da="d'",t.R="R",t.Ra="R'",t.r="r",t.ra="r'",t.L="L",t.La="L'",t.l="l",t.la="l'",t.B="B",t.Ba="B'",t.b="b",t.ba="b'",t.F="F",t.Fa="F'",t.f="f",t.fa="f'",t.M="M",t.Ma="M'",t.E="E",t.Ea="E'",t.S="S",t.Sa="S'"}(u||(u=t("ROTATE_TYPE",{})));t("default",h("RotateController")(l=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,a(s(e),"timeRotateStart",0),a(s(e),"isRotate",!1),a(s(e),"timeRotate",1),a(s(e),"rorateAxis",new r),a(s(e),"rotateAngle",90),a(s(e),"targetAngle",new r),a(s(e),"targetQuat",new n),e}e(i,t);var o=i.prototype;return o.start=function(){this.timeRotateStart=0},o.update=function(t){if(this.isRotate)if(this.timeRotateStart+=t,this.timeRotateStart>=this.timeRotate)this.isRotate=!1,this.node.setRotation(this.targetQuat);else{var e=new n;n.fromAxisAngle(e,this.rorateAxis,this.rotateAngle/this.timeRotate*t*(3.14159265/180));var a=new n,s=new n;this.node.getRotation(a),n.multiply(s,e,a),this.node.setRotation(s)}},o.DoRotate=function(t){if(this.isRotate)return!1;switch(t){case u.x:case u.Ma:case u.R:case u.r:case u.La:case u.la:this.rorateAxis=new r(-1,0,0);break;case u.xa:case u.M:case u.Ra:case u.ra:case u.L:case u.l:this.rorateAxis=new r(1,0,0);break;case u.y:case u.U:case u.u:case u.Da:case u.da:case u.Ea:this.rorateAxis=new r(0,-1,0);break;case u.ya:case u.Ua:case u.ua:case u.D:case u.d:case u.E:this.rorateAxis=new r(0,1,0);break;case u.F:case u.f:case u.Ba:this.rorateAxis=new r(0,0,-1);break;case u.Fa:case u.fa:case u.B:this.rorateAxis=new r(0,0,1)}this.isRotate=!0,this.timeRotateStart=0;var e=new n;n.fromAxisAngle(e,this.rorateAxis,this.rotateAngle*(3.14159265/180));var a=new n;return this.node.getRotation(a),n.multiply(this.targetQuat,e,a),!0},o.SetTimeRotate=function(t){this.timeRotate=t},o.RotateAround=function(t,e){var a=new n;n.fromAxisAngle(a,t,e*(3.14159265/180));var s=new n,i=new n;this.node.getRotation(s),n.multiply(i,a,s),this.node.setRotation(i)},o.IsRotating=function(){return this.isRotate},o.SetRotateAngle=function(t){this.rotateAngle=t},o.RotateToAngle=function(t,e){if(0!=t){var a=new n,s=new n;n.fromAxisAngle(a,e,t*(3.14159265/180));var i=new n;this.node.getRotation(i),n.multiply(s,a,i),this.node.setRotation(s)}},i}(c))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/shape-the-curves.ts",["./_rollupPluginModLoBabelHelpers.js","cc","./shape-manager.ts"],(function(e){"use strict";var t,n,u,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,u=e._decorator,o=e.Component},function(e){r=e.default}],execute:function(){var s;n._RF.push({},"ea30fU/pw9HKL/8gK8/n95m","shape-the-curves",void 0);var c=u.ccclass;u.property,e("ShapeTheCurves",c("ShapeTheCurves")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var u=n.prototype;return u.start=function(){},u.update=function(e){},u.OnButtonPause=function(){},u.OnButtonRefresh=function(){r.instance.RotateShape()},u.OnButtonDelete=function(){r.instance.DeleteShape()},n}(o))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/resource-manager.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,a,t,n;return{setters:[function(e){r=e.defineProperty,a=e.createClass},function(e){t=e.cclegacy,n=e._decorator}],execute:function(){var i,c,s;t._RF.push({},"fcbc7FzB7lP7qagSkx/4Tua","resource-manager",void 0);var o=n.ccclass;n.property,e("default",o("Typescript")((s=c=function(){function e(){r(this,"isLoadFinished",!1),r(this,"arraySprite",{}),r(this,"arrayPrefab",{})}var t=e.prototype;return t.ReleaseSprite=function(e){for(var r in e)cc.console.log("----release Sprite: "+r),cc.assetManager.releaseAsset(e[r])},t.LoadSpritFolder=function(e,r){var a=this;this.isLoadFinished=!1,r&&this.ReleaseSprite(this.arraySprite),cc.resources.loadDir(e,(function(r,t){cc.log("-------------LoadSpritFolder: "+e),t&&t.forEach((function(e){e instanceof cc.SpriteFrame&&(cc.log("-------------LoadSpritFolder: "+e._name),a.arraySprite[e._name.toLowerCase()]=e)})),a.isLoadFinished=!0}))},t.LoadPrefabsFolder=function(e,r){var a=this;r&&this.ReleaseSprite(this.arrayPrefab),cc.resources.loadDir(e,(function(e,r){r&&r.forEach((function(e){cc.log("-------------load Prefabs: "+e.data._name),e instanceof cc.Prefab&&(a.arrayPrefab[e.data._name.toLowerCase()]=e)}))}))},t.GetSprites=function(e){return this.arraySprite[e]},t.GetPrefabs=function(e){return this.arrayPrefab[e]},a(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}(),r(c,"_instance",null),i=s))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/shape-level.ts",["./_rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,s;return{setters:[function(e){t=e.defineProperty,i=e.createClass},function(e){n=e.cclegacy,s=e._decorator}],execute:function(){n._RF.push({},"fd229aCcO5HnqzebpWeVfJ3","shape-level",void 0);s.ccclass,s.property,e("ShapePoint",(function(){t(this,"x",0),t(this,"y",0),t(this,"r",0)})),e("ShapeInfo",(function(){t(this,"spriteName",""),t(this,"scale",0),t(this,"fallSpeed",0),t(this,"moveSpeed",0),t(this,"startPoint",void 0),t(this,"targetPoint",void 0),t(this,"hintPoint",void 0)})),e("ShapeLevelInfo",(function(){t(this,"levelName",""),t(this,"timeFinish",0),t(this,"minMoveX",0),t(this,"maxMoveX",0),t(this,"shapeInfo",[])}));var a=e("default",function(){function e(){t(this,"LEVEL1",{levelName:"bambi",timeFinish:50,minMoveX:40,maxMoveX:50,shapeInfo:[{spriteName:"1",scale:2,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300,r:0},targetPoint:{x:-80,y:-300,r:0},hintPoint:{x:-80,y:-300,r:0}},{spriteName:"2",scale:2,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300,r:0},targetPoint:{x:-37,y:-300,r:-1},hintPoint:{x:-9999,y:-9999,r:0}},{spriteName:"3",scale:2,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300,r:1},targetPoint:{x:0,y:-300,r:0},hintPoint:{x:0,y:-300,r:0}},{spriteName:"4",scale:2,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300,r:-1},targetPoint:{x:87,y:-300,r:0},hintPoint:{x:87,y:-300,r:0}},{spriteName:"5",scale:2,fallSpeed:2,moveSpeed:10,startPoint:{x:0,y:300,r:2},targetPoint:{x:127,y:-300,r:0},hintPoint:{x:127,y:-300,r:0}}]}),t(this,"LEVELDATA",[this.LEVEL1])}return i(e,null,[{key:"instance",get:function(){return null==e._instance&&(e._instance=new e),e._instance}}]),e}());t(a,"_instance",null),n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./game-manager.ts","./resource-manager.ts","./shape-level.ts","./rotate-controller.ts","./shape-manager.ts","./shape.ts","./destroys-effect.ts","./input-controller.ts","./shape-the-curves.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});